{"version":3,"sources":["components/Top.tsx","components/Slide.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Top","props","state","slideNum","isError","undefined","location","event","this","setState","target","value","num","toString","replace","s","String","fromCharCode","charCodeAt","numList","Array","fill","map","v","i","classes","className","Typography","variant","Divider","subtitle","mb","Grid","container","direction","justify","alignItems","grid","gridItem","FormControl","Select","labelId","onChange","handleChange","MenuItem","ListItemText","primary","itemText","Button","color","component","Link","to","pathname","Slideshow","btnIcon","React","Component","withStyles","theme","createStyles","marginBottom","spacing","fontFamily","fontWeight","fontSize","lineHeight","textTransform","letterSpacing","marginRight","marginLeft","margin","withTheme","Slide","images","page","show","getSlidePictures","then","BASE_URL","process","REACT_APP_BASEURL","ACCESS_KEY","REACT_APP_UNSPLASH_ACCESS_KEY","url","imageUrls","axios","get","headers","Authorization","res","windowWidth","window","innerWidth","windowHeight","innerHeight","data","forEach","d","push","urls","raw","history","done","imageUrl","img","Image","src","onload","length","includes","keyCode","onKeyDown","e","keyDown","tabIndex","nowSlide","alt","withRouter","createMuiTheme","palette","main","orange","secondary","lightBlue","typography","App","ThemeProvider","basename","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2d92d7e1.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link, RouteComponentProps} from 'react-router-dom';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport {Button, Divider, Grid, ListItemText, Typography} from '@material-ui/core';\r\nimport {createStyles, withStyles, WithStyles} from \"@material-ui/core/styles\";\r\nimport {Slideshow} from \"@material-ui/icons\";\r\n\r\ninterface State {\r\n  slideNum: number,\r\n  isError: boolean\r\n}\r\n\r\ninterface Props extends WithStyles<typeof styles> {\r\n}\r\n\r\nconst styles = theme => createStyles({\r\n  subtitle: {\r\n    marginBottom: theme.spacing(4),\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    fontWeight: 500,\r\n    fontSize: \"0.875rem\",\r\n    lineHeight: 1.75,\r\n    textTransform: \"uppercase\",\r\n    letterSpacing: theme.spacing(2)\r\n  },\r\n  mb: {\r\n    marginBottom: theme.spacing(6),\r\n  },\r\n  btnIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  gridItem: {\r\n    marginRight: theme.spacing(1),\r\n    marginLeft: theme.spacing(1)\r\n  },\r\n  grid: {\r\n    margin: theme.spacing(4),\r\n  }\r\n});\r\n\r\nclass Top extends React.Component<RouteComponentProps<Props>, State> {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      slideNum: 3,\r\n      isError: this.props.location.state !== undefined,\r\n    }\r\n  }\r\n\r\n  handleChange(event: any) {\r\n    this.setState({\r\n      slideNum: event.target.value as number,\r\n    })\r\n  }\r\n\r\n  itemText(num: number): string {\r\n    return num.toString().replace(/[0-9]/g, (s) => {\r\n      return String.fromCharCode(s.charCodeAt(0) + 65248);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const numList: Array<number> = Array(18).fill(0).map((v, i) => i + 3);\r\n    const {classes} = this.props;\r\n\r\n    return (\r\n      <div className=\"App-container\">\r\n        <Typography variant=\"h2\">\r\n          パワポカラオケ\r\n          <Divider/>\r\n        </Typography>\r\n        <Typography className={classes.subtitle}>\r\n          power point karaoke\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\" className={classes.mb}>\r\n          ランダムに出てくる画像を使って即興でプレゼンをするパワポカラオケができるサイトです！\r\n        </Typography>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n          className={classes.grid}\r\n        >\r\n          <Grid>\r\n            <Typography variant=\"h6\">\r\n              スライドの枚数\r\n            </Typography>\r\n          </Grid>\r\n          <Grid className={classes.gridItem}>\r\n            <FormControl>\r\n              <Select\r\n                labelId=\"slideNum-select-label\"\r\n                value={this.state.slideNum}\r\n                onChange={event => this.handleChange(event)}\r\n              >\r\n                {numList.map((num) => (\r\n                  <MenuItem key={num} value={num}>\r\n                    <ListItemText primary={this.itemText(num)}/>\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid>\r\n            <Typography variant=\"h6\">\r\n              枚\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n        {this.state.isError ? <div>エラーが発生しました。</div> : ''}\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          component={Link}\r\n          className={classes.mb}\r\n          to={{\r\n            pathname: '/slide',\r\n            state: {\r\n              slideNum: this.state.slideNum,\r\n            }\r\n          }}\r\n        >\r\n          <Slideshow className={classes.btnIcon}/>\r\n          スタート！\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, {withTheme: true})(Top);\r\n","import React, {Component} from 'react';\r\nimport axios, {AxiosResponse} from 'axios';\r\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\r\n\r\ninterface State {\r\n  slideNum: number;\r\n  images: string[];\r\n  page: number;\r\n  show: boolean;\r\n}\r\n\r\nclass Slide extends Component<RouteComponentProps, State> {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      slideNum: this.props.location.state.slideNum,\r\n      images: [],\r\n      page: 0,\r\n      show: false,\r\n    }\r\n    this.getSlidePictures().then();\r\n  }\r\n\r\n  async getSlidePictures() {\r\n    const BASE_URL: string = process.env.REACT_APP_BASEURL!;\r\n    const ACCESS_KEY: string = process.env.REACT_APP_UNSPLASH_ACCESS_KEY!;\r\n    const url = BASE_URL + '/photos/random?count=' + this.state.slideNum;\r\n\r\n    const imageUrls: string[] = [];\r\n\r\n    await axios\r\n      .get(url, {\r\n        headers: {\r\n          Authorization: \"Client-ID \" + ACCESS_KEY,\r\n        }\r\n      })\r\n      .then(\r\n        (res: AxiosResponse) => {\r\n          const windowWidth: string = window.innerWidth.toString();\r\n          const windowHeight: string = window.innerHeight.toString();\r\n\r\n          res.data.forEach((d) => {\r\n            imageUrls.push(d.urls.raw + '&fit=max&w=' + windowWidth + '&h=' + windowHeight);\r\n          });\r\n        },\r\n        () => {\r\n          this.props.history.push('/', {isError: true});\r\n        });\r\n\r\n    let done = 0;\r\n\r\n    imageUrls.forEach((imageUrl) => {\r\n      const img = new Image();\r\n      img.src = imageUrl;\r\n      img.onload = () => {\r\n        done++;\r\n        if (done === imageUrls.length) {\r\n          this.setState({\r\n            show: true,\r\n            images: imageUrls\r\n          })\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  keyDown(event: any) {\r\n    if ([32, 39].includes(event.keyCode) && this.state.page < this.state.images.length - 1) {\r\n      this.setState({\r\n        page: this.state.page + 1,\r\n      })\r\n    }\r\n\r\n    if (event.keyCode === 37 && this.state.page !== 0) {\r\n      this.setState({\r\n        page: this.state.page - 1,\r\n      })\r\n    }\r\n  }\r\n\r\n  nowSlide(): string {\r\n    return this.state.images[this.state.page];\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.show) {\r\n      return (\r\n        <div className=\"App-container\">waiting...</div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className=\"App-container\"\r\n        onKeyDown={(e) => this.keyDown(e)}\r\n        tabIndex={0}\r\n      >\r\n        <img src={this.nowSlide()} alt=\"slide\"/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(Slide);\r\n","import React from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport Top from './components/Top';\nimport Slide from './components/Slide';\nimport {createMuiTheme, ThemeProvider} from \"@material-ui/core/styles\";\nimport {orange, lightBlue} from \"@material-ui/core/colors\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: orange[800],\n    },\n    secondary: {\n      main: lightBlue[600],\n    },\n  },\n  typography: {\n    fontFamily: \"'Kosugi Maru', sans-serif\",\n  }\n});\n\nclass App extends React.Component<{}, {}> {\n  render() {\n    return (\n      <ThemeProvider theme={theme}>\n        <div className=\"App\">\n          <Router basename={process.env.PUBLIC_URL}>\n            <div>\n              <Route exact path=\"/\" component={Top}/>\n              <Route exact path=\"/slide\" component={Slide}/>\n            </div>\n          </Router>\n        </div>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}